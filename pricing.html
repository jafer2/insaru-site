<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pricing - Insaru Property Management</title>
  <meta name="description" content="Dynamic pricing from 0.25% to 1%. The more organized you are and the more you scale, the less you pay." />

  <meta property="og:title" content="Pricing ‚Äì Insaru"/>
  <meta property="og:description" content="0.25%‚Äì1% + Stripe. Fair, performance-based pricing. Scale up, pay less."/>
  <meta property="og:image" content="logonew.png"/>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --cosmic-black: #0a0a0f;
      --cosmic-purple: #6b4ce6;
      --cosmic-blue: #4da3ff;
      --cosmic-pink: #ff6b9d;
      --cosmic-gold: #ffd700;
      --text-primary: #ffffff;
      --text-secondary: #b8b8c8;
      --text-muted: #6e6e7e;
    }

    html, body { height: 100%; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--cosmic-black);
      color: var(--text-primary);
      overflow-x: hidden;
      line-height: 1.6;
      position: relative;
      min-height: 100vh;
    }

    /* Mathematical background */
    #mathBg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: 0;
    }

    .logo-center {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: min(1200px, 88vw);
      opacity: 0.16;
      filter: drop-shadow(0 0 70px rgba(107, 76, 230, 0.35));
      pointer-events: none;
      z-index: 1;
    }

    .fx {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 2;
      background:
        radial-gradient(60% 55% at 50% 40%, rgba(0,0,0,0) 0%, rgba(0,0,0,.32) 68%, rgba(0,0,0,.70) 100%),
        linear-gradient(180deg, rgba(0,0,0,.55) 0%, rgba(0,0,0,.08) 45%, rgba(0,0,0,.62) 100%);
    }
    .fx::after{
      content:"";
      position:absolute;
      inset:-40px;
      opacity:.06;
      mix-blend-mode: overlay;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.28'/%3E%3C/svg%3E");
    }

    /* Header */
    header {
      position: relative;
      z-index: 10;
      padding: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1400px;
      margin: 0 auto;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 0.8rem;
      text-decoration: none;
      color: var(--text-primary);
      user-select: none;
    }

    .brand-mark {
      width: 36px;
      height: 36px;
      object-fit: contain;
      filter: drop-shadow(0 0 18px rgba(107, 76, 230, 0.55));
    }

    .brand-name {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.8rem;
      font-weight: 300;
      background: linear-gradient(135deg, #4da3ff, #ffffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      transition: opacity 0.3s;
      line-height: 1;
    }

    .brand:hover .brand-name { opacity: 0.85; }

    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      margin-left: 2rem;
      font-size: 0.95rem;
      transition: color 0.3s;
    }

    nav a:hover { color: var(--cosmic-blue); }

    /* Main */
    .container {
      position: relative;
      z-index: 3;
      min-height: 100vh;
      padding: 4rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
      background: radial-gradient(circle at center, transparent 0%, rgba(10, 10, 15, 0.20) 60%, rgba(10, 10, 15, 0.75) 100%);
    }

    /* Hero */
    .hero {
      text-align: center;
      margin-bottom: 6rem;
      animation: fadeInUp 1s ease-out;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hero-badge {
      display: inline-block;
      padding: 0.6rem 1.5rem;
      background: rgba(77, 163, 255, 0.1);
      border: 1px solid rgba(77, 163, 255, 0.3);
      border-radius: 30px;
      color: var(--cosmic-blue);
      font-size: 0.85rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 2rem;
    }

    .hero-title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(3rem, 6vw, 5rem);
      font-weight: 300;
      letter-spacing: -0.02em;
      margin-bottom: 1.5rem;
      background: linear-gradient(135deg, #ffffff 0%, var(--cosmic-blue) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.1;
    }

    .hero-subtitle {
      font-size: clamp(1.1rem, 2vw, 1.4rem);
      color: var(--text-secondary);
      max-width: 700px;
      margin: 0 auto 2rem;
    }

    .pricing-range {
      display: inline-flex;
      align-items: center;
      gap: 1rem;
      padding: 1.5rem 3rem;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(20px);
      margin-top: 2rem;
    }

    .range-value {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--cosmic-gold), var(--cosmic-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .range-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    /* Pricing principles */
    .principles {
      margin: 6rem 0;
      animation: fadeInUp 1s ease-out 0.2s both;
    }

    .principles-title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 3rem;
      text-align: center;
      margin-bottom: 3rem;
      background: linear-gradient(135deg, #ffffff, var(--cosmic-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .principles-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .principle-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 3rem 2.5rem;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      backdrop-filter: blur(20px);
    }

    .principle-card:hover {
      transform: translateY(-8px);
      border-color: rgba(77, 163, 255, 0.4);
      background: rgba(255, 255, 255, 0.05);
      box-shadow: 0 30px 80px rgba(77, 163, 255, 0.2);
    }

    .principle-icon {
      font-size: 3rem;
      margin-bottom: 1.5rem;
    }

    .principle-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--cosmic-blue);
    }

    .principle-description {
      color: var(--text-secondary);
      line-height: 1.7;
    }

    /* Examples table */
    .examples-section {
      margin: 6rem 0;
      animation: fadeInUp 1s ease-out 0.4s both;
    }

    .section-title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 3rem;
      text-align: center;
      margin-bottom: 3rem;
      background: linear-gradient(135deg, #ffffff, var(--cosmic-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .examples-table {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      overflow: hidden;
      backdrop-filter: blur(20px);
    }

    .examples-table table {
      width: 100%;
      border-collapse: collapse;
    }

    .examples-table th,
    .examples-table td {
      padding: 1.5rem;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .examples-table thead th {
      background: rgba(77, 163, 255, 0.1);
      font-weight: 600;
      color: var(--cosmic-blue);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 0.9rem;
    }

    .examples-table tbody tr:hover { background: rgba(255, 255, 255, 0.02); }
    .examples-table td:first-child { color: var(--text-primary); font-weight: 500; }
    .examples-table td:not(:first-child) { color: var(--text-secondary); }

    .highlight { color: var(--cosmic-gold); font-weight: 700; }

    /* Mizan explanation */
    .mizan-section {
      margin: 6rem 0;
      text-align: center;
      animation: fadeInUp 1s ease-out 0.6s both;
    }

    .mizan-content {
      background: rgba(77, 163, 255, 0.05);
      border: 1px solid rgba(77, 163, 255, 0.2);
      border-radius: 24px;
      padding: 4rem 3rem;
      max-width: 900px;
      margin: 0 auto;
      backdrop-filter: blur(20px);
    }

    .mizan-icon {
      font-size: 4rem;
      margin-bottom: 2rem;
    }

    .mizan-title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 3rem;
      margin-bottom: 1.5rem;
      background: linear-gradient(135deg, var(--cosmic-gold), var(--cosmic-pink));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .mizan-description {
      font-size: 1.2rem;
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: 2rem;
    }

    .mizan-factors {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .mizan-factor {
      text-align: center;
    }

    .factor-label {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .factor-positive { color: var(--cosmic-blue); }
    .factor-negative { color: var(--cosmic-pink); }

    .factor-text {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    /* FAQ */
    .faq-section {
      margin: 6rem auto;
      max-width: 900px;
      animation: fadeInUp 1s ease-out 0.8s both;
    }

    .faq-item {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      transition: all 0.3s;
      backdrop-filter: blur(20px);
    }

    .faq-item:hover {
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(77, 163, 255, 0.3);
    }

    .faq-question {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 1rem;
    }

    .faq-answer { color: var(--text-secondary); line-height: 1.7; }

    /* CTA */
    .final-cta {
      text-align: center;
      padding: 4rem 2rem;
      background: rgba(77, 163, 255, 0.05);
      border: 1px solid rgba(77, 163, 255, 0.2);
      border-radius: 24px;
      margin: 6rem 0;
      animation: fadeInUp 1s ease-out 1s both;
      backdrop-filter: blur(20px);
    }

    .final-cta h2 {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 3rem;
      margin-bottom: 1.5rem;
      background: linear-gradient(135deg, #ffffff, var(--cosmic-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .final-cta p {
      font-size: 1.2rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .final-cta button {
      padding: 1.5rem 4rem;
      font-size: 1.2rem;
      font-weight: 600;
      background: linear-gradient(135deg, var(--cosmic-blue), var(--cosmic-purple));
      border: none;
      border-radius: 16px;
      color: white;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .final-cta button:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 20px 60px rgba(77, 163, 255, 0.5);
    }

    /* Footer */
    footer {
      position: relative;
      z-index: 3;
      text-align: center;
      padding: 3rem 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .principles-grid { grid-template-columns: 1fr; }
      .examples-table { overflow-x: auto; }
      nav { display: none; }
      .logo-center { width: 192vw; opacity: 0.14; }
    }

    @media (prefers-reduced-motion: reduce) {
      #mathBg { display: none; }
    }
  </style>
</head>

<body>
  <!-- Background -->
  <canvas id="mathBg" aria-hidden="true"></canvas>
  <img src="logonew.png" alt="" class="logo-center" aria-hidden="true"/>
  <div class="fx" aria-hidden="true"></div>

  <!-- Header -->
  <header>
    <a href="index.html" class="brand">
      <img src="logonew.png" alt="Insaru" class="brand-mark"/>
      <span class="brand-name">Insaru</span>
    </a>
    <nav>
      <a href="features.html">Features</a>
      <a href="pricing.html">Pricing</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <!-- Main content -->
  <div class="container">
    <!-- Hero -->
    <section class="hero">
      <div class="hero-badge">Dynamic Performance Pricing</div>
      <h1 class="hero-title">Fair Pricing That Rewards You</h1>
      <p class="hero-subtitle">
        The more organized you are and the more you scale, the less you pay. 
        Never above 1%. Always fair.
      </p>

      <div class="pricing-range">
        <div>
          <div class="range-value">0.25%‚Äì1%</div>
          <div class="range-label">+ Stripe</div>
        </div>
      </div>
    </section>

    <!-- Pricing Principles -->
    <section class="principles">
      <h2 class="principles-title">How It Works</h2>
      <div class="principles-grid">
        <div class="principle-card">
          <div class="principle-icon">üìä</div>
          <h3 class="principle-title">Starts at 1%</h3>
          <p class="principle-description">
            Your baseline rate is 1% per rent payment. Simple, transparent, and fair.
          </p>
        </div>

        <div class="principle-card">
          <div class="principle-icon">üìà</div>
          <h3 class="principle-title">Scale Up, Pay Less</h3>
          <p class="principle-description">
            As your portfolio grows, your effective rate drops automatically. More properties = lower fees.
          </p>
        </div>

        <div class="principle-card">
          <div class="principle-icon">üè†</div>
          <h3 class="principle-title">Rent Fairness</h3>
          <p class="principle-description">
            Higher rent properties get lower percentage rates. Premium areas aren't punished.
          </p>
        </div>

        <div class="principle-card">
          <div class="principle-icon">‚öñÔ∏è</div>
          <h3 class="principle-title">Mƒ´zƒÅn Balance</h3>
          <p class="principle-description">
            Good behavior (compliance, backups, on-time payments) earns discounts. Risky behavior increases costs.
          </p>
        </div>
      </div>
    </section>

    <!-- Examples -->
    <section class="examples-section">
      <h2 class="section-title">Example Scenarios</h2>
      <div class="examples-table">
        <table>
          <thead>
            <tr>
              <th>Scenario</th>
              <th>Effective Rate</th>
              <th>Monthly Fee</th>
              <th>vs 10% Agent</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1 property, ¬£800/mo, baseline</td>
              <td>1.00%</td>
              <td>¬£8/mo</td>
              <td class="highlight">Save ¬£72/mo (90%)</td>
            </tr>
            <tr>
              <td>1 property, ¬£800/mo, good behavior</td>
              <td>~0.85%</td>
              <td>¬£6.80/mo</td>
              <td class="highlight">Save ¬£73.20/mo (92%)</td>
            </tr>
            <tr>
              <td>3 properties, ¬£1,000/mo each</td>
              <td>~0.80%</td>
              <td>¬£24/mo total</td>
              <td class="highlight">Save ¬£276/mo (92%)</td>
            </tr>
            <tr>
              <td>5 properties, ¬£1,200/mo each</td>
              <td>~0.65%</td>
              <td>¬£39/mo total</td>
              <td class="highlight">Save ¬£561/mo (93%)</td>
            </tr>
            <tr>
              <td>10 properties, ¬£1,000/mo each</td>
              <td>~0.50%</td>
              <td>¬£50/mo total</td>
              <td class="highlight">Save ¬£950/mo (95%)</td>
            </tr>
            <tr>
              <td>20 properties, high rent + compliance</td>
              <td>~0.25% (floor)</td>
              <td>Variable</td>
              <td class="highlight">Save 97.5%</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Mƒ´zƒÅn Explanation -->
    <section class="mizan-section">
      <div class="mizan-content">
        <div class="mizan-icon">‚öñÔ∏è</div>
        <h2 class="mizan-title">Mƒ´zƒÅn: Balance & Fairness</h2>
        <p class="mizan-description">
          Your pricing adjusts based on measurable behavior. Good landlords pay less. 
          High-risk behavior costs more. It's mathematically fair.
        </p>

        <div class="mizan-factors">
          <div class="mizan-factor">
            <div class="factor-label factor-positive">+</div>
            <div class="factor-text">Certificates uploaded</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-positive">+</div>
            <div class="factor-text">Backups enabled</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-positive">+</div>
            <div class="factor-text">On-time payments</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-positive">+</div>
            <div class="factor-text">Low disputes</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-negative">‚àí</div>
            <div class="factor-text">Persistent arrears</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-negative">‚àí</div>
            <div class="factor-text">Payment failures</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-negative">‚àí</div>
            <div class="factor-text">High disputes</div>
          </div>
          <div class="mizan-factor">
            <div class="factor-label factor-negative">‚àí</div>
            <div class="factor-text">Missing compliance</div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="faq-section">
      <h2 class="section-title">Frequently Asked Questions</h2>

      <div class="faq-item">
        <h3 class="faq-question">How does the 0.25%‚Äì1% range work?</h3>
        <p class="faq-answer">
          Your rate starts at 1% per rent payment. Three factors adjust it: (1) Portfolio size (more properties = lower rate), (2) Rent amount (higher rent = lower %), and (3) Compliance behavior (organized landlords pay less). The rate never drops below 0.25% or exceeds 1%.
        </p>
      </div>

      <div class="faq-item">
        <h3 class="faq-question">What's the "Mƒ´zƒÅn" score?</h3>
        <p class="faq-answer">
          Mƒ´zƒÅn (Arabic: balance) measures your compliance and operational quality. Upload certificates on time, maintain backups, keep records clean = better score = lower fees. Payment failures, disputes, missing docs = higher costs. It's automatic and transparent.
        </p>
      </div>

      <div class="faq-item">
        <h3 class="faq-question">How do I know my exact rate?</h3>
        <p class="faq-answer">
          Your dashboard shows your current effective rate and Mƒ´zƒÅn score in real-time. Every rent payment displays the exact fee breakdown before processing.
        </p>
      </div>

      <div class="faq-item">
        <h3 class="faq-question">What about Stripe fees?</h3>
        <p class="faq-answer">
          Stripe charges 1.5% for card processing (industry standard). This is separate from Insaru's 0.25‚Äì1% platform fee. Example: ¬£1,200 rent ‚Üí Stripe takes ¬£18, Insaru takes ¬£3‚Äì¬£12 (depending on your rate), you get ¬£1,170‚Äì¬£1,179.
        </p>
      </div>

      <div class="faq-item">
        <h3 class="faq-question">Is there a free tier?</h3>
        <p class="faq-answer">
          Yes! Free tier includes 1 property, unlimited document storage, certificate tracking, and manual rent tracking. You only pay when you enable automated rent collection.
        </p>
      </div>

      <div class="faq-item">
        <h3 class="faq-question">How does this compare to agents?</h3>
        <p class="faq-answer">
          Agents charge 10% (¬£120/month on ¬£1,200 rent = ¬£1,440/year). Insaru charges 0.25‚Äì1% (¬£3‚Äì¬£12/month = ¬£36‚Äì¬£144/year). You save 90‚Äì97.5% depending on your portfolio and behavior.
        </p>
      </div>
    </section>

    <!-- Final CTA -->
    <section class="final-cta">
      <h2>Start With Fair Pricing</h2>
      <p>
        Join landlords who value transparency and fairness. 
        Pay less as you grow and stay organized.
      </p>
      <button onclick="window.location.href='index.html#notify'">Get Early Access</button>
    </section>
  </div>

  <!-- Footer -->
  <footer>
    <p>¬© 2025 Insaru. All rights reserved.</p>
    <p style="margin-top: 0.5rem; font-size: 0.8rem;">
      Local-first property management. Your data, your device, your control.
    </p>
  </footer>

  <script>
    // Same mathematical background as index.html
    (function () {
      const canvas = document.getElementById('mathBg');
      const ctx = canvas.getContext('2d', { alpha: false });
      const DPR = Math.min(2, window.devicePixelRatio || 1);
      let W = 0, H = 0;
      const mouse = { x: 0.5, y: 0.5 };
      window.addEventListener('mousemove', (e) => {
        mouse.x = e.clientX / window.innerWidth;
        mouse.y = e.clientY / window.innerHeight;
      }, { passive: true });
      const logo = new Image();
      logo.decoding = 'async';
      logo.crossOrigin = 'anonymous';
      logo.src = 'logonew.png';
      const map = { ready: false, w: 256, h: 256, data: null, cx: 0, cy: 0, size: 0 };
      function resize() {
        W = Math.floor(window.innerWidth * DPR);
        H = Math.floor(window.innerHeight * DPR);
        canvas.width = W; canvas.height = H;
        map.cx = W * 0.5; map.cy = H * 0.5;
        map.size = Math.min(W, H) * 0.62;
        ctx.fillStyle = '#0a0a0f';
        ctx.fillRect(0, 0, W, H);
      }
      window.addEventListener('resize', resize); resize();
      function buildAlphaMap() {
        const oc = document.createElement('canvas');
        oc.width = map.w; oc.height = map.h;
        const octx = oc.getContext('2d');
        octx.clearRect(0, 0, map.w, map.h);
        const s = Math.min(map.w, map.h) * 0.9;
        const x = (map.w - s) / 2; const y = (map.h - s) / 2;
        octx.drawImage(logo, x, y, s, s);
        const img = octx.getImageData(0, 0, map.w, map.h).data;
        const a = new Float32Array(map.w * map.h);
        for (let i = 0; i < map.w * map.h; i++) {
          const r = img[i * 4 + 0], g = img[i * 4 + 1], b = img[i * 4 + 2];
          const alpha = img[i * 4 + 3] / 255;
          const lum = (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;
          a[i] = alpha > 0.02 ? alpha : Math.max(0, lum - 0.15);
        }
        map.data = a; map.ready = true;
      }
      logo.onload = () => buildAlphaMap();
      logo.onerror = () => { map.ready = false; };
      function sampleMask(px, py) {
        if (!map.ready) return 0;
        const half = map.size / 2;
        const lx = (px - (map.cx - half)) / map.size;
        const ly = (py - (map.cy - half)) / map.size;
        if (lx < 0 || lx > 1 || ly < 0 || ly > 1) return 0;
        const ix = Math.max(0, Math.min(map.w - 1, (lx * (map.w - 1)) | 0));
        const iy = Math.max(0, Math.min(map.h - 1, (ly * (map.h - 1)) | 0));
        return map.data[iy * map.w + ix];
      }
      function noise2(x, y, t) {
        return Math.sin(1.7 * x + 1.3 * t) * Math.cos(1.9 * y - 1.1 * t) + Math.sin(2.9 * (x + y) + 0.7 * t) * 0.5;
      }
      function field(px, py, t) {
        const x = (px / W) * 2 - 1, y = (py / H) * 2 - 1;
        const mx = (mouse.x - 0.5) * 0.18, my = (mouse.y - 0.5) * 0.18;
        const w1 = noise2(x + mx, y + my, t), w2 = noise2(x * 1.7 - my, y * 1.7 + mx, t * 0.9);
        const wx = x + 0.18 * w1, wy = y + 0.18 * w2;
        const a = noise2(wx, wy, t * 0.7);
        const vx = Math.cos(a * Math.PI * 1.2) + 0.35 * Math.sin(w2 * 2.2);
        const vy = Math.sin(a * Math.PI * 1.2) - 0.35 * Math.cos(w1 * 2.2);
        return { vx, vy };
      }
      const particles = [];
      const isMobile = window.matchMedia && window.matchMedia('(max-width: 768px)').matches;
      const COUNT = isMobile ? 1400 : 2400, SPEED = isMobile ? 0.85 : 1.05;
      function rand(n) { return Math.random() * n; }
      function spawn(p) {
        for (let tries = 0; tries < 60; tries++) {
          const angle = rand(Math.PI * 2), radius = (0.18 + Math.random() * 0.42) * Math.min(W, H);
          const x = map.cx + Math.cos(angle) * radius, y = map.cy + Math.sin(angle) * radius;
          const m = sampleMask(x, y), ok = map.ready ? (m > 0.06 || Math.random() < 0.20) : true;
          if (ok) { p.x = x; p.y = y; p.px = x; p.py = y; p.life = 0; p.hue = 200 + Math.random() * 90; p.w = 0.6 + Math.random() * 1.2; return; }
        }
        p.x = rand(W); p.y = rand(H); p.px = p.x; p.py = p.y; p.life = 0; p.hue = 200 + Math.random() * 90; p.w = 0.6 + Math.random() * 1.2;
      }
      for (let i = 0; i < COUNT; i++) { const p = { x: 0, y: 0, px: 0, py: 0, life: 0, hue: 0, w: 1 }; spawn(p); p.life = Math.random() * 140; particles.push(p); }
      let last = performance.now(), t0 = performance.now();
      function step(now) {
        const dt = Math.min(0.033, (now - last) / 1000); last = now; const t = (now - t0) / 1000;
        ctx.save(); ctx.globalCompositeOperation = 'source-over'; ctx.fillStyle = 'rgba(10,10,15,0.10)'; ctx.fillRect(0, 0, W, H); ctx.restore();
        ctx.save(); ctx.globalCompositeOperation = 'lighter'; ctx.lineCap = 'round';
        for (let i = 0; i < particles.length; i++) {
          const p = particles[i], m = map.ready ? sampleMask(p.x, p.y) : 0;
          let gx = 0, gy = 0;
          if (map.ready) { const e = 2.0 * DPR; gx = sampleMask(p.x + e, p.y) - sampleMask(p.x - e, p.y); gy = sampleMask(p.x, p.y + e) - sampleMask(p.x, p.y - e); }
          let tx = -gy, ty = gx; const tl = Math.hypot(tx, ty) || 1; tx /= tl; ty /= tl;
          const f = field(p.x, p.y, t), k = 0.55 + 1.8 * m;
          const vx = (f.vx * 0.85 + tx * k), vy = (f.vy * 0.85 + ty * k);
          p.px = p.x; p.py = p.y; p.x += vx * SPEED * (120 * DPR) * dt; p.y += vy * SPEED * (120 * DPR) * dt; p.life += 1;
          const a = 0.06 + 0.18 * Math.min(1, m * 2);
          ctx.strokeStyle = `hsla(${p.hue}, 95%, 65%, ${a})`; ctx.lineWidth = p.w * DPR;
          ctx.beginPath(); ctx.moveTo(p.px, p.py); ctx.lineTo(p.x, p.y); ctx.stroke();
          if (p.x < -50 || p.x > W + 50 || p.y < -50 || p.y > H + 50 || p.life > 320) spawn(p);
        }
        ctx.restore(); requestAnimationFrame(step);
      }
      ctx.fillStyle = '#0a0a0f'; ctx.fillRect(0, 0, W, H); requestAnimationFrame(step);
    })();
  </script>
</body>
</html>
